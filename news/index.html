<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • mirai</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Changelog"><meta property="og:image" content="https://shikokuchuo.net/mirai/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mirai</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.12.0.9011</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/mirai.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/parallel.html">mirai - Parallel Integration</a>
    </li>
    <li>
      <a href="../articles/plumber.html">mirai - Plumber Integration</a>
    </li>
    <li>
      <a href="../articles/promises.html">mirai - Promises Integration</a>
    </li>
    <li>
      <a href="../articles/shiny.html">mirai - Shiny Integration</a>
    </li>
    <li>
      <a href="../articles/torch.html">mirai - Torch Integration</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/shikokuchuo/mirai/" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://shikokuchuo.net/" class="external-link">
    <span class="fa fa-cube"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/shikokuchuo/mirai/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.0.9011" id="mirai-01209011-development">mirai 0.12.0.9011 (development)<a class="anchor" aria-label="anchor" href="#mirai-01209011-development"></a></h2>
<ul><li>Dispatcher initial sync timeout widened to 10s to allow for launching large numbers of daemons.</li>
<li>Default for <code><a href="../reference/remote_config.html">ssh_config()</a></code> argument ‘timeout’ widened to 10 (seconds).</li>
<li>Fixes <code><a href="../reference/daemons.html">daemons()</a></code> specifying ‘output = FALSE’ registering as TRUE instead.</li>
<li>Fixes use of <code><a href="../reference/everywhere.html">everywhere()</a></code> specifying ‘.args’ as an unnamed list or ‘.expr’ as a language object.</li>
<li>Ensures compatibility with nanonext &gt;= 0.13.0.</li>
<li>Internal performance enhancements.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.0" id="mirai-0120">mirai 0.12.0<small>2024-01-12</small><a class="anchor" aria-label="anchor" href="#mirai-0120"></a></h2>
<ul><li>More minimal print methods for ‘mirai’ and ‘miraiCluster’.</li>
<li>Adds <code><a href="../reference/host_url.html">local_url()</a></code> helper to construct a random inter-process communications URL for local daemons (thanks <a href="https://github.com/noamross" class="external-link">@noamross</a> <a href="https://github.com/shikokuchuo/mirai/issues/90" class="external-link">#90</a>).</li>
<li>
<code><a href="../reference/daemon.html">daemon()</a></code> argument ‘autoexit’ now accepts a signal value such as <code><a href="https://rdrr.io/r/tools/pskill.html" class="external-link">tools::SIGINT</a></code> in order to raise it upon exit.</li>
<li>
<code><a href="../reference/daemon.html">daemon()</a></code> now records the state of initial global environment objects (e.g. those created in .Rprofile) for cleanup purposes (thanks <a href="https://github.com/noamross" class="external-link">@noamross</a> <a href="https://github.com/shikokuchuo/mirai/issues/91" class="external-link">#91</a>).</li>
<li>Slightly more optimal <code><a href="https://rstudio.github.io/promises/reference/is.promise.html" class="external-link">as.promise()</a></code> method for ‘mirai’.</li>
<li>Eliminates potential memory leaks along certain error paths.</li>
<li>Requires nanonext &gt;= 0.12.0.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.11.3" id="mirai-0113">mirai 0.11.3<small>2023-12-07</small><a class="anchor" aria-label="anchor" href="#mirai-0113"></a></h2>
<ul><li>Implements <code><a href="../reference/serialization.html">serialization()</a></code> for registering custom serialization and unserialization functions when using daemons.</li>
<li>Introduces <code><a href="../reference/call_mirai.html">call_mirai_()</a></code>, a user-interruptible version of <code><a href="../reference/call_mirai.html">call_mirai()</a></code> suitable for interactive use.</li>
<li>Simplification of <code><a href="../reference/mirai.html">mirai()</a></code> interface:
<ul><li>‘.args’ will now coerce to a list if an object other than a list is supplied, rather than error.</li>
<li>‘.signal’ argument removed - now all ‘mirai’ signal if daemons are set up.</li>
</ul></li>
<li>
<code><a href="../reference/everywhere.html">everywhere()</a></code> now returns invisible NULL in the case the specified compute profile is not set up, rather than error.</li>
<li>
<code><a href="../reference/mirai.html">mirai()</a></code> specifying a timeout when <code><a href="../reference/daemons.html">daemons()</a></code> has not been set - the timeout begins immediately rather than after the ephemeral daemon has connected - please factor in a small amount of time for the daemon to launch.</li>
<li>
<code><a href="../reference/make_cluster.html">make_cluster()</a></code> now prints daemon launch commands where ‘url’ is specified without ‘remote’ whether or not interactive.</li>
<li>Cluster node failures during load balanced operations now rely on the ‘parallel’ mechanism to error and no longer fail early or automatically stop the cluster.</li>
<li>Fixes regression since 0.11.0 which prevented dispatcher exiting in a timely manner when tasks are backlogged (thanks <a href="https://github.com/wlandau" class="external-link">@wlandau</a> <a href="https://github.com/shikokuchuo/mirai/issues/86" class="external-link">#86</a>).</li>
<li>Improved memory efficiency and stability at dispatcher.</li>
<li>No longer loads the ‘promises’ package if not already loaded (but makes the ‘mirai’ method available via a hook function).</li>
<li>Requires nanonext &gt;= 0.11.0.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.11.2" id="mirai-0112">mirai 0.11.2<small>2023-11-15</small><a class="anchor" aria-label="anchor" href="#mirai-0112"></a></h2>
<ul><li>
<code><a href="../reference/make_cluster.html">make_cluster()</a></code> specifying only ‘url’ now succeeds with implied ‘n’ of one.</li>
<li>Fixes <code><a href="../reference/mirai.html">mirai()</a></code> specifying a language object by name for ‘.expr’ in R versions 4.0 and earlier.</li>
<li>Fixes regression in 0.11.1 which prevented the correct random seed being set when using dispatcher.</li>
<li>Internal performance enhancements.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.11.1" id="mirai-0111">mirai 0.11.1<small>2023-11-04</small><a class="anchor" aria-label="anchor" href="#mirai-0111"></a></h2>
<ul><li>Adds ‘mirai’ method for ‘as.promise()’ from the {promises} package (if available). This functionality is merged from the package {mirai.promises}, allowing use of the promise pipe <code>%...&gt;%</code> with a ‘mirai’.</li>
<li>Parallel clusters (the alternative communications backend for R) now work with existing R versions, no longer requiring R &gt;= 4.4.</li>
<li>
<code><a href="../reference/everywhere.html">everywhere()</a></code> evaluates an expression ‘everywhere’ on all connected daemons for a compute profile. Resulting changes to the global environment, loaded pacakges or options are persisted regardless of the ‘cleanup’ setting (request by <a href="https://github.com/krlmlr" class="external-link">@krlmlr</a> <a href="https://github.com/shikokuchuo/mirai/issues/80" class="external-link">#80</a>).</li>
<li>
<code><a href="../reference/host_url.html">host_url()</a></code> implemented as a helper function to automatically construct the host URL using the computer’s hostname.</li>
<li>
<code><a href="../reference/daemon.html">daemon()</a></code> adds argument ‘autoexit’, which replaces ‘asyncdial’, to govern persistence settings for a daemon. A daemon can now survive a host session and re-connect to another one (request by <a href="https://github.com/krlmlr" class="external-link">@krlmlr</a> <a href="https://github.com/shikokuchuo/mirai/issues/81" class="external-link">#81</a>).</li>
<li>
<code>daemons(NULL)</code> implemented as a variant of <code>daemons(0)</code> which also sends exit signals to connected persistent daemons.</li>
<li>
<code><a href="../reference/dispatcher.html">dispatcher()</a></code> argument ‘lock’ removed as this is now applied in all cases to prevent more than one daemon dialling into a dispatcher URL at any one time.</li>
<li>
<code><a href="../reference/daemon.html">daemon()</a></code> argument ‘cleanup’ simplified to a logical argument, with more granular control offered by the existing integer bitmask (thanks <a href="https://github.com/krlmlr" class="external-link">@krlmlr</a> <a href="https://github.com/shikokuchuo/mirai/issues/79" class="external-link">#79</a>).</li>
<li>Daemons connecting over TLS now perform synchronous dials by default (as documented).</li>
<li>Fixes supplying an <code><a href="../reference/remote_config.html">ssh_config()</a></code> specifying tunnelling to the ‘remote’ argument of <code><a href="../reference/daemons.html">daemons()</a></code>.</li>
<li>Fixes the print method for a subset ‘miraiCluster’ (thanks <a href="https://github.com/HenrikBengtsson" class="external-link">@HenrikBengtsson</a> <a href="https://github.com/shikokuchuo/mirai/issues/83" class="external-link">#83</a>).</li>
<li>Removes the deprecated deferred evaluation pipe <code>%&gt;&gt;%</code>.</li>
<li>Requires nanonext &gt;= 0.10.4.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.11.0" id="mirai-0110">mirai 0.11.0<small>2023-10-06</small><a class="anchor" aria-label="anchor" href="#mirai-0110"></a></h2>
<ul><li>Implements an alternative communications backend for R, adding methods for the ‘parallel’ base package.
<ul><li>Fulfils a request by R Core at R Project Sprint 2023, and requires R &gt;= 4.4 (currently R-devel).</li>
<li>
<code><a href="../reference/make_cluster.html">make_cluster()</a></code> creates a ‘miraiCluster’, compatible with all existing functions taking a ‘cluster’ object, for example in the ‘parallel’ and ‘doParallel’ / ‘foreach’ packages.</li>
<li>
<code><a href="../reference/status.html">status()</a></code> can now take a ‘miraiCluster’ as the argument to query its connection status.</li>
</ul></li>
<li>
<code><a href="../reference/launch_local.html">launch_remote()</a></code> improvements:
<ul><li>Simplified interface with a single ‘remote’ argument taking a remote configuration to launch daemons.</li>
<li>Returned shell commands now have a custom print method which means they may be directly copy/pasted to a remote machine.</li>
<li>Can now take a ‘miraiCluster’ or ‘miraiNode’ to return the shell commands for deployment of remote nodes.</li>
</ul></li>
<li>
<code><a href="../reference/daemons.html">daemons()</a></code> gains the following features:
<ul><li>Adds argument ‘remote’ for launching remote daemons directly without recourse to a separate call to <code><a href="../reference/launch_local.html">launch_remote()</a></code>.</li>
<li>Adds argument ‘resilience’ to control the behaviour, when not using dispatcher, of whether to retry failed tasks on other daemons.</li>
</ul></li>
<li>
<code><a href="../reference/remote_config.html">remote_config()</a></code> added to generate configurations for directly launching remote daemons, and can be supplied directly to a ‘remote’ argument.</li>
<li>
<code><a href="../reference/remote_config.html">ssh_config()</a></code> added as a convenience method to generate launch configurations using SSH, including SSH tunnelling.</li>
<li>
<code><a href="../reference/mirai.html">mirai()</a></code> adds logical argument ‘.signal’ for whether to signal the condition variable within the compute profile upon resolution of the ‘mirai’.</li>
<li>
<code><a href="../reference/daemon.html">daemon()</a></code> argument ‘exitlinger’ retired as daemons now synchronise with the host/dispatcher and exit as soon as possible (although a default ‘exitlinger’ period still applies to ephemeral daemons).</li>
<li>Optimises scheduling at dispatcher: tasks are no longer assigned to a daemon if it is exiting due to specified time/task-outs.</li>
<li>An ‘errorValue’ 19 ‘Connection reset’ is now returned for a ‘mirai’ if the connection to either dispatcher or an ephemeral daemon drops, for example if they have crashed, rather than remaining unresolved.</li>
<li>Invalid type of ‘…’ arguments specified to <code><a href="../reference/daemons.html">daemons()</a></code> or <code><a href="../reference/dispatcher.html">dispatcher()</a></code> now raise an error early rather than attempting to launch daemons that fail.</li>
<li>Eliminates a potential crash in the host process after querying <code><a href="../reference/status.html">status()</a></code> if there is no longer a connection to dispatcher.</li>
<li>Reverts the trailing line break added to the end of a ‘miraiError’ character string.</li>
<li>Moves the ‘…’ argument to <code><a href="../reference/daemons.html">daemons()</a></code>, <code><a href="../reference/dispatcher.html">dispatcher()</a></code> and <code><a href="../reference/daemon.html">daemon()</a></code> to clearly delineate core vs peripheral options.</li>
<li>Deprecates the Deferred Evaluation Pipe <code>%&gt;&gt;%</code> in favour of a recommendation to use package <code>mirai.promises</code> for performing side effects upon ‘mirai’ resolution.</li>
<li>Deprecated use of alias <code>server()</code> for <code><a href="../reference/daemon.html">daemon()</a></code> is retired.</li>
<li>Adds a ‘reference’ vignette, incorporating most of the information from the readme.</li>
<li>Requires nanonext &gt;= 0.10.2.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.10.0" id="mirai-0100">mirai 0.10.0<small>2023-09-16</small><a class="anchor" aria-label="anchor" href="#mirai-0100"></a></h2>
<ul><li>Uses L’Ecuyer-CMRG streams for safe and reproducible (in certain cases) random number generation across parallel processes (thanks <a href="https://github.com/ltierney" class="external-link">@ltierney</a> for discussion during R Project Sprint 2023).
<ul><li>
<code><a href="../reference/daemons.html">daemons()</a></code> gains the new argument ‘seed’ to set a random seed for generating these streams.</li>
<li>
<code><a href="../reference/daemon.html">daemon()</a></code> and <code><a href="../reference/dispatcher.html">dispatcher()</a></code> gain the argument ‘rs’ which takes a L’Ecuyer-CMRG random seed.</li>
</ul></li>
<li>New developer functions <code><a href="../reference/nextstream.html">nextstream()</a></code> and <code><a href="../reference/nextstream.html">nextget()</a></code>, opening interfaces for packages which extend <code>mirai</code>.</li>
<li>Dispatcher enhancements and fixes:
<ul><li>Runs in an R session with <code>--vanilla</code> flags for efficiency, avoiding lengthy startup configurations (thanks <a href="https://github.com/alexpiper" class="external-link">@alexpiper</a>).</li>
<li>Straight pass through without serialization/unserialization allows higher performance and lower memory utilisation.</li>
<li>Fixes edge cases of <code><a href="../reference/status.html">status()</a></code> occasionally failing to communicate with dispatcher.</li>
<li>Fixes edge cases of ending a session with unresolved mirai resulting in a crash rather than a clean exit.</li>
</ul></li>
<li>Tweaks to <code><a href="../reference/saisei.html">saisei()</a></code>:
<ul><li>specifying argument ‘force’ as TRUE now immediately regenerates the socket and returns any ongoing mirai as an ‘errorValue’. This allows tasks that consistently hang or crash to be cancelled rather than repeated when a new daemon connects.</li>
<li>argument ‘i’ is now required and no longer defaults to 1L.</li>
</ul></li>
<li>Tweaks to <code><a href="../reference/status.html">status()</a></code>:
<ul><li>The daemons status matrix adds a column ‘i’ for ease of use with functions such as <code><a href="../reference/saisei.html">saisei()</a></code> or <code><a href="../reference/launch_local.html">launch_local()</a></code>.</li>
<li>The ‘instance’ column is now always cumulative - regenerating a URL with <code><a href="../reference/saisei.html">saisei()</a></code> no longer resets the counter but instead turns it negative until a new daemon connects.</li>
</ul></li>
<li>Improves shell quoting of daemon launch commands, making it easier to deploy manually via <code><a href="../reference/launch_local.html">launch_remote()</a></code>.</li>
<li>
<code><a href="../reference/daemons.html">daemons()</a></code> and <code><a href="../reference/dispatcher.html">dispatcher()</a></code> gain the argument ‘pass’ to support password-protected private keys when supplying TLS credentials (thanks <a href="https://github.com/wlandau" class="external-link">@wlandau</a> <a href="https://github.com/shikokuchuo/mirai/issues/76" class="external-link">#76</a>).</li>
<li>Cryptographic errors when using dispatcher with TLS are now reported to the user (thanks <a href="https://github.com/wlandau" class="external-link">@wlandau</a> <a href="https://github.com/shikokuchuo/mirai/issues/76" class="external-link">#76</a>).</li>
<li>Passing a filename to the ‘tls’ argument of <code><a href="../reference/daemons.html">daemons()</a></code>, <code><a href="../reference/launch_local.html">launch_local()</a></code> or <code><a href="../reference/launch_local.html">launch_remote()</a></code> now works correctly as documented.</li>
<li>Extends and clarifies documentation surrounding use of certificate authority signed TLS certificates.</li>
<li>Certain error messages are more accurate and informative.</li>
<li>Increases in performance and lower resource utilisation due to updates in nanonext 0.10.0.</li>
<li>Requires nanonext &gt;= 0.10.0 and R &gt;= 3.5.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9.1" id="mirai-091">mirai 0.9.1<small>2023-07-19</small><a class="anchor" aria-label="anchor" href="#mirai-091"></a></h2>
<ul><li>Secure TLS connections implemented for distributed computing:
<ul><li>Zero-configuration experience - simply specify a <code>tls+tcp://</code> or <code>wss://</code> URL in <code><a href="../reference/daemons.html">daemons()</a></code>. Single-use keys and certificates are automatically generated.</li>
<li>Alternatively, custom certificates may be passed to the ‘tls’ argument of <code><a href="../reference/daemons.html">daemons()</a></code> and <code><a href="../reference/daemon.html">daemon()</a></code>, such as those generated via a Ceritficate Signing Request (CSR) to a Certificate Authority (CA).</li>
</ul></li>
<li>
<code><a href="../reference/launch_local.html">launch_remote()</a></code> launches daemons on remote machines and/or returns the shell command for launching daemons as a character vector.
<ul><li>Example using SSH: <code>launch_remote("ws://192.168.0.1:5555", command = "ssh", args = c("-p 22 192.168.0.2", .)</code>.</li>
</ul></li>
<li>User interface optimised for consistency and ease of use:
<ul><li>Documentation updated to refer consistently to host and daemons (rather than client and server) for clarity.</li>
<li>
<code><a href="../reference/daemon.html">daemon()</a></code> replaces <code>server()</code>, which is deprecated (although currently retained as an alias).</li>
<li>
<code><a href="../reference/launch_local.html">launch_local()</a></code> replaces <code>launch_server()</code> and now accepts a vector argument for ‘url’ as well as numeric values to select the relevant dispatcher or host URL, returning invisible NULL instead of an integer value.</li>
<li>
<code><a href="../reference/status.html">status()</a></code> now retrieves connections and daemons status, replacing the call to <code><a href="../reference/daemons.html">daemons()</a></code> with no arguments (which is deprecated). The return value of <code>$daemons</code> is now always the host URL when not using dispatcher.</li>
</ul></li>
<li>Redirection of stdout and stderr from local daemons to the host process is now possible (when running without dispatcher) by specifying <code>output=TRUE</code> for <code><a href="../reference/daemons.html">daemons()</a></code> or <code><a href="../reference/launch_local.html">launch_local()</a></code>. <code><a href="../reference/daemon.html">daemon()</a></code> accepts a new ‘output’ argument.</li>
<li>
<code><a href="../reference/saisei.html">saisei()</a></code> argument validation now happens prior to sending a request to dispatcher rather than on dispatcher.</li>
<li>A ‘miraiError’ now includes the trailing line break at the end of the character vector.</li>
<li>Requires nanonext &gt;= 0.9.1, with R requirement relaxed back to &gt;= 2.12.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9.0" id="mirai-090">mirai 0.9.0<small>2023-06-24</small><a class="anchor" aria-label="anchor" href="#mirai-090"></a></h2>
<ul><li>mirai 0.9.0 is a major release focusing on stability improvements.</li>
<li>Improvements to dispatcher:
<ul><li>Ensures the first URL retains the same format if <code>saisei(i = 1L)</code> is called.</li>
<li>Optimal scheduling when tasks are submitted prior to any servers coming online.</li>
<li>Fixes rare occasions where dispatcher running a single server instance could get stuck with a task.</li>
<li>
<code><a href="../reference/daemons.html">daemons()</a></code> status requests have been rendered more robust.</li>
</ul></li>
<li>Ensures <code><a href="../reference/saisei.html">saisei()</a></code> always returns <code>NULL</code> if ‘tcp://’ URLs are being used as they do not support tokens.</li>
<li>Daemons status matrix ‘assigned’ and ‘complete’ are now cumulative statistics, and not reset upon new instances.</li>
<li>Requires nanonext &gt;= 0.9.0 and R &gt;= 3.5.0.</li>
<li>Internal performance enhancements.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.7" id="mirai-087">mirai 0.8.7<small>2023-05-11</small><a class="anchor" aria-label="anchor" href="#mirai-087"></a></h2>
<ul><li>
<code>server()</code> and <code><a href="../reference/dispatcher.html">dispatcher()</a></code> argument ‘asyncdial’ is now FALSE by default, causing these functions to exit if a connection is not immediately available. This means that for distributed computing purposes, <code><a href="../reference/daemons.html">daemons()</a></code> should be called before <code>server()</code> is launched on remote resources, or else <code>server(asyncdial = TRUE)</code> allows servers to wait for a connection.</li>
<li>
<code>launch_server()</code> now parses the passed URL for correctness before attempting to launch a server, producing an error if not valid.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.4" id="mirai-084">mirai 0.8.4<small>2023-05-09</small><a class="anchor" aria-label="anchor" href="#mirai-084"></a></h2>
<ul><li>The deferred evaluation pipe <code>%&gt;&gt;%</code> gains the following enhancements:
<ul><li>
<code>.()</code> implemented to wrap a piped expression, ensuring return of either an ‘unresolvedExpr’ or ‘resolvedExpr’.</li>
<li>expressions may be tested using <code><a href="../reference/unresolved.html">unresolved()</a></code> in the same way as a ‘mirai’.</li>
<li>allows for general use in all contexts, including within functions.</li>
</ul></li>
<li>Improved error messages for top level evaluation errors in a ‘mirai’.</li>
<li>Requires nanonext &gt;= 0.8.3.</li>
<li>Internal stability and performance enhancements.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.3" id="mirai-083">mirai 0.8.3<small>2023-04-17</small><a class="anchor" aria-label="anchor" href="#mirai-083"></a></h2>
<ul><li>
<code><a href="../reference/mirai.html">mirai()</a></code> gains the following enhancements (thanks <a href="https://github.com/HenrikBengtsson" class="external-link">@HenrikBengtsson</a>):
<ul><li>accepts a language or expression object being passed to ‘.expr’ for evaluation.</li>
<li>accepts a list of ‘name = value’ pairs being passed to ‘.args’ as well as the existing ‘…’.</li>
<li>objects specified via ‘…’ now take precedence over ‘.args’ if the same named object appears.</li>
</ul></li>
<li>
<code><a href="../reference/dispatcher.html">dispatcher()</a></code> gains the following arguments:
<ul><li>
<code>token</code> for appending a unique token to each URL the dispatcher listens at.</li>
<li>
<code>lock</code> for locking sockets to prevent more than one server connecting at a unique URL.</li>
</ul></li>
<li>
<code><a href="../reference/saisei.html">saisei()</a></code> implemented to regenerate the token used by a given dispatcher socket.</li>
<li>
<code>launch_server()</code> replaces <code>launch()</code> for launching local instances, with a simpler interface directly mapping to <code>server()</code>.</li>
<li>Automatically-launched local daemons revised to use unique tokens in their URLs.</li>
<li>Daemons status matrix headers updated to ‘online’, ‘instance’, ‘assigned’, and ‘complete’.</li>
<li>Fixes potential issue when attempting to use <code><a href="../reference/mirai.html">mirai()</a></code> with timeouts and no connection to a server.</li>
<li>Requires nanonext &gt;= 0.8.2.</li>
<li>Internal performance enhancements.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.2" id="mirai-082">mirai 0.8.2<small>2023-04-03</small><a class="anchor" aria-label="anchor" href="#mirai-082"></a></h2>
<ul><li>
<code><a href="../reference/dispatcher.html">dispatcher()</a></code> re-implemented using an innovative non-polling design. Efficient process consumes zero processor usage when idle and features significantly higher throughput and lower latency.
<ul><li>Arguments ‘pollfreqh’ and ‘pollfreql’ removed as no longer applicable.</li>
</ul></li>
<li>Server and dispatcher processes exit automatically if the connection with the client is dropped. This significantly reduces the likelihood of orphaned processes.</li>
<li>
<code>launch()</code> exported as a utility for easily re-launching daemons that have timed out, for instance.</li>
<li>Correct passthrough of <code>...</code> variables in the <code><a href="../reference/daemons.html">daemons()</a></code> call.</li>
<li>Requires nanonext &gt;= 0.8.1.</li>
<li>Internal performance enhancements.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.1" id="mirai-081">mirai 0.8.1<small>2023-03-17</small><a class="anchor" aria-label="anchor" href="#mirai-081"></a></h2>
<ul><li>Fixes issue where daemon processes may not launch for certain setups (only affecting binary package builds).</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.0" id="mirai-080">mirai 0.8.0<small>2023-03-15</small><a class="anchor" aria-label="anchor" href="#mirai-080"></a></h2>
<ul><li>mirai 0.8.0 is a major feature release. Special thanks to <a href="https://github.com/wlandau" class="external-link">@wlandau</a> for suggestions, discussion and testing for many of the new capabilities.</li>
<li>Compute profiles have been introduced through a new <code>.compute</code> argument in <code><a href="../reference/daemons.html">daemons()</a></code> and <code><a href="../reference/mirai.html">mirai()</a></code> for sending tasks with heterogeneous compute requirements.
<ul><li>
<code><a href="../reference/daemons.html">daemons()</a></code> can create new profiles to connect to different resources e.g. servers with GPU, accelerators etc.</li>
<li>
<code><a href="../reference/mirai.html">mirai()</a></code> tasks can be sent using a specific compute profile.</li>
</ul></li>
<li>
<code><a href="../reference/daemons.html">daemons()</a></code> interface has a new <code>url</code> argument along with <code>dispatcher</code> for using a background dispatcher process to ensure optimal FIFO task scheduling (now the default).
<ul><li>Supplying a client URL with a zero port number <code>:0</code> will automatically assign a free ephemeral port, with the actual port number subsequently reported by <code><a href="../reference/daemons.html">daemons()</a></code>.</li>
<li>Calling with no arguments now provides an improved view of the current number of connections / daemons (URL, online and busy status, tasks assigned and completed, instance), replacing the previous <code>daemons("view")</code> functionality.</li>
</ul></li>
<li>
<code><a href="../reference/dispatcher.html">dispatcher()</a></code> is implemented as a new function for the dispatcher.</li>
<li>
<code>server()</code> gains the following arguments:
<ul><li>
<code>asyncdial</code> to specify how the server dials into the client.</li>
<li>
<code>maxtasks</code> for specifying a maximum number of tasks before exiting.</li>
<li>
<code>idletime</code> for specifying an idle time, since completion of the last task before exiting.</li>
<li>
<code>walltime</code> for specifying a soft walltime before exiting.</li>
<li>
<code>timerstart</code> for specifying a minimum number of task completions before starting timers.</li>
</ul></li>
<li>Invalid URLs provided to <code><a href="../reference/daemons.html">daemons()</a></code> and <code>server()</code> now error and return immediately instead of potentially causing a hang.</li>
<li>
<code>eval_mirai()</code> is removed as an alias for <code><a href="../reference/mirai.html">mirai()</a></code>.</li>
<li>‘mirai’ processes are no longer launched in Rscript sessions with the <code>--vanilla</code> argument to enable site / user profile and environment files to be read.</li>
<li>Requires nanonext &gt;= 0.8.0.</li>
<li>Internal performance enhancements.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.2" id="mirai-072">mirai 0.7.2<small>2023-01-17</small><a class="anchor" aria-label="anchor" href="#mirai-072"></a></h2>
<ul><li>Internal performance enhancements.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.1" id="mirai-071">mirai 0.7.1<small>2022-11-15</small><a class="anchor" aria-label="anchor" href="#mirai-071"></a></h2>
<ul><li>Allow user interrupts of <code><a href="../reference/call_mirai.html">call_mirai()</a></code> again (regression in 0.7.0), now returning a ‘miraiInterrupt’.</li>
<li>Adds auxiliary function <code><a href="../reference/is_mirai_error.html">is_mirai_interrupt()</a></code> to test if an object is a ‘miraiInterrupt’.</li>
<li>Requires nanonext &gt;= 0.7.0: returned ‘errorValues’ e.g. mirai timeouts are no longer accompanied by warnings.</li>
<li>Internal performance enhancements.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.0" id="mirai-070">mirai 0.7.0<small>2022-10-19</small><a class="anchor" aria-label="anchor" href="#mirai-070"></a></h2>
<ul><li>
<code><a href="../reference/daemons.html">daemons()</a></code> now takes ‘n’ and ‘.url’ arguments. ‘.url’ is an optional client URL allowing mirai tasks to be distributed across the network. Compatibility with existing interface is retained.</li>
<li>The server function <code>server()</code> is exported for creating daemon / ephemeral processes on network resources.</li>
<li>Mirai errors are formatted better and now print to stdout rather than stderr.</li>
<li>Improvements to performance and stability requiring nanonext &gt;= 0.6.0.</li>
<li>Internal enhancements to error handling in a mirai / daemon process.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6.0" id="mirai-060">mirai 0.6.0<small>2022-09-16</small><a class="anchor" aria-label="anchor" href="#mirai-060"></a></h2>
<ul><li>Notice: older package versions will no longer be supported by ‘nanonext’ &gt;= 0.6.0. Please ensure you are using the latest version of ‘mirai’ or else refrain from upgrading ‘nanonext’.</li>
<li>Internal enhancements to <code><a href="../reference/daemons.html">daemons()</a></code> and <code>%&gt;&gt;%</code> deferred evaluation pipe.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.3" id="mirai-053">mirai 0.5.3<small>2022-08-16</small><a class="anchor" aria-label="anchor" href="#mirai-053"></a></h2>
<ul><li>
<code><a href="../reference/mirai.html">mirai()</a></code> gains a ‘.args’ argument for passing a list of objects already in the calling environment, allowing for example <code>mirai(func(x, y, z), .args = list(x, y, z))</code> rather than having to specify <code>mirai(func(x, y, z), x = x, y = y, z = z)</code>.</li>
<li>Errors from inside a mirai will now return the error message as a character string of class ‘miraiError’ and ‘errorValue’, rather than just a nul byte. Utility function <code><a href="../reference/is_mirai_error.html">is_mirai_error()</a></code> should be used in place of <code><a href="https://shikokuchuo.net/nanonext/reference/is_error_value.html" class="external-link">is_nul_byte()</a></code>, which is no longer re-exported.</li>
<li>
<code><a href="../reference/is_mirai_error.html">is_error_value()</a></code> can be used to test for all errors, including timeouts where the ‘.timeout’ argument has been used.</li>
<li>All re-exports from ‘nanonext’ have been brought in-package for better documentation.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.2" id="mirai-052">mirai 0.5.2<small>2022-07-21</small><a class="anchor" aria-label="anchor" href="#mirai-052"></a></h2>
<ul><li>Internal optimisations requiring nanonext &gt;= 0.5.2.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.0" id="mirai-050">mirai 0.5.0<small>2022-06-21</small><a class="anchor" aria-label="anchor" href="#mirai-050"></a></h2>
<ul><li>Implements the <code>%&gt;&gt;%</code> deferred evaluation pipe.</li>
<li>Adds ‘.timeout’ argument to <code><a href="../reference/mirai.html">mirai()</a></code> to ensure a mirai always resolves even if the child process crashes etc.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.1" id="mirai-041">mirai 0.4.1<small>2022-04-21</small><a class="anchor" aria-label="anchor" href="#mirai-041"></a></h2>
<ul><li>Exits cleanly when daemons have not been explicitly zeroed prior to ending an R session.</li>
<li>Fixes possible hang on Windows when shutting down daemons.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.0" id="mirai-040">mirai 0.4.0<small>2022-04-14</small><a class="anchor" aria-label="anchor" href="#mirai-040"></a></h2>
<ul><li>Back to a pure R implementation thanks to enhanced internal design at nanonext.</li>
<li>Adds auxiliary function <code><a href="../reference/is_mirai.html">is_mirai()</a></code> to test if an object is a mirai.</li>
<li>Versioning system to synchronise with nanonext e.g. v0.4.x requires nanonext &gt;= 0.4.0.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="mirai-020">mirai 0.2.0<small>2022-03-28</small><a class="anchor" aria-label="anchor" href="#mirai-020"></a></h2>
<ul><li>The value of a mirai is now stored at <code>$data</code> to optimally align with the underlying implementation.</li>
<li>Package now contains C code (requires compilation), using weak references for simpler management of resources.</li>
<li>Switch to abstract sockets on Linux.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.1" id="mirai-011">mirai 0.1.1<small>2022-03-15</small><a class="anchor" aria-label="anchor" href="#mirai-011"></a></h2>
<ul><li>
<code><a href="../reference/mirai.html">mirai()</a></code> added as an alias for <code>eval_mirai()</code>; supports evaluating arbitrary length expressions wrapped in <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code>.</li>
<li>A mirai now resolves automatically without requiring <code><a href="../reference/call_mirai.html">call_mirai()</a></code>. Access the <code>$value</code> directly and an ‘unresolved’ logical NA will be returned if the async operation is yet to complete.</li>
<li>
<code><a href="../reference/stop_mirai.html">stop_mirai()</a></code> added as a function to stop evaluation of an ongoing async operation.</li>
<li>Auxiliary functions <code><a href="https://shikokuchuo.net/nanonext/reference/is_error_value.html" class="external-link">is_nul_byte()</a></code> and <code><a href="../reference/unresolved.html">unresolved()</a></code> re-exported from {nanonext} to test for evaluation errors and resolution of a ‘mirai’ respectively.</li>
<li>New <code><a href="../reference/daemons.html">daemons()</a></code> interface to set and manage persistent background processes for receiving ‘mirai’ requests.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="mirai-010">mirai 0.1.0<small>2022-02-16</small><a class="anchor" aria-label="anchor" href="#mirai-010"></a></h2>
<ul><li>Initial release.</li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Charlie Gao.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

